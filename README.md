# Building an Ubuntu Server Daily Template for VMware Desktop Hypervisors with Packer

1. Clone the repository.
2. Update the variables in `./ubuntu-daily.sh`, if needed.
3. Run `./ubuntu-daily.sh`.
4. Enjoy.

Example:

```console
✦28 ➜ ./ubuntu-daily.sh
-------------------------------------------------------------------------------------------------------
  Building an Ubuntu Server Daily Template for VMware Desktop Hypervisors. Standby...

  Date:     Thu Sep 12 23:03:06 EDT 2024
  URL:      https://cdimage.ubuntu.com/ubuntu-server/daily-live/current/oracular-live-server-amd64.iso
  Checksum: dadb81ab078e3b5b5fac89fbdc625986e6a6ccac0eeb4dec81e274bd25a78bfd

  Checking for existing ISO file...
  The ISO file already exists. Verifying checksum...
  Checksum matches. Proceeding with the build.
-------------------------------------------------------------------------------------------------------
vmware-iso.ubuntu-daily: output will be in this color.

==> vmware-iso.ubuntu-daily: Retrieving ISO
==> vmware-iso.ubuntu-daily: Trying file:/Users/johnsonryan/Downloads/ubuntu-22-04-packer-fusion-workstation-master/iso//oracular-live-server-amd64.iso
==> vmware-iso.ubuntu-daily: Trying file:/Users/johnsonryan/Downloads/ubuntu-22-04-packer-fusion-workstation-master/iso//oracular-live-server-amd64.iso?checksum=sha256%3Adadb81ab078e3b5b5fac89fbdc625986e6a6ccac0eeb4dec81e274bd25a78bfd
==> vmware-iso.ubuntu-daily: file:/Users/johnsonryan/Downloads/ubuntu-22-04-packer-fusion-workstation-master/iso//oracular-live-server-amd64.iso?checksum=sha256%3Adadb81ab078e3b5b5fac89fbdc625986e6a6ccac0eeb4dec81e274bd25a78bfd => /Users/johnsonryan/Downloads/ubuntu-22-04-packer-fusion-workstation-master/iso/5e1835ece4584f8f04d0bfe75c20705e73720896.iso
==> vmware-iso.ubuntu-daily: Configuring output and export directories...
==> vmware-iso.ubuntu-daily: Creating temporary RSA SSH key for instance...
==> vmware-iso.ubuntu-daily: Creating virtual machine disks...
==> vmware-iso.ubuntu-daily: Generating the .vmx file...
==> vmware-iso.ubuntu-daily: Starting HTTP server on port 8426
==> vmware-iso.ubuntu-daily: Powering on virtual machine...
==> vmware-iso.ubuntu-daily: Connecting to VNC...
==> vmware-iso.ubuntu-daily: Waiting 5s for boot...
==> vmware-iso.ubuntu-daily: Typing the boot command over VNC...
==> vmware-iso.ubuntu-daily: Waiting for SSH to become available...
==> vmware-iso.ubuntu-daily: Connected to SSH!
==> vmware-iso.ubuntu-daily: Gracefully halting virtual machine...
    vmware-iso.ubuntu-daily: Waiting for clean up...
==> vmware-iso.ubuntu-daily: Deleting unnecessary files...
    vmware-iso.ubuntu-daily: Deleting: output/2024-09-13/03:03:30/ubuntu-2024-09-13.plist
    vmware-iso.ubuntu-daily: Deleting: output/2024-09-13/03:03:30/ubuntu-2024-09-13.scoreboard
    vmware-iso.ubuntu-daily: Deleting: output/2024-09-13/03:03:30/ubuntu-2024-09-13.vmx.lck/M60400.lck
    vmware-iso.ubuntu-daily: Deleting: output/2024-09-13/03:03:30/vmware.log
==> vmware-iso.ubuntu-daily: Compacting all attached virtual disks...
    vmware-iso.ubuntu-daily: Compacting virtual disk 1
==> vmware-iso.ubuntu-daily: Cleaning VMX prior to finishing up...
    vmware-iso.ubuntu-daily: Detaching ISO from CD-ROM device ide0:0...
    vmware-iso.ubuntu-daily: Disabling VNC server...
==> vmware-iso.ubuntu-daily: Creating snapshot of virtual machine...
==> vmware-iso.ubuntu-daily: Skipping export of virtual machine...
Build 'vmware-iso.ubuntu-daily' finished after 8 minutes 11 milliseconds.

==> Wait completed after 8 minutes 11 milliseconds

==> Builds finished. The artifacts of successful builds are:
--> vmware-iso.ubuntu-daily: VM files in directory: output/2024-09-13/03:03:30

~/Downloads/ubuntu-22-04-packer-fusion-workstation-master took 8m 25.1s
```
